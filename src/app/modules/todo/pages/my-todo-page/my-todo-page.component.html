<div class="mt-2">
    <div class="d-flex mb-2">
        <div class="p-2 flex-fill sub-title">
            <p class="mb-1 fs-6 fw-semibold"> {{ 'todo.title.my_todos' | translate }} ({{ totalItems}})</p>
        </div>
        <div class="p-2 flex-fill">
            <p-button 
                (click)="showAddTodoDialog()" 
                icon="pi pi-plus" 
                label="{{ 'todo.btn.add' | translate }}"
                styleClass="wrapper-btn p-button-sm p-button-secondary float-end"
            ></p-button>
        </div>
    </div>
    
    <app-todo-list
        [todos]="todos"
        [total]="totalItems"
        [rows]="itemsPerPage"
        [loading]="isLoading"
        (page)="onPage($event)"
        (update)="openUpdateTodoDialog($event)"
        (changeStatus)="onChangeStatusTodo($event)"
        (delete)="onDeleteTodo($event)"
    ></app-todo-list>

    <ng-container *ngIf="dialog.visible">
        <app-todo-form-dialog
            [canShow]="dialog.visible"
            [header]="dialog.header"
            [action]="dialog.action"
            [todo]="dialog.todo"
            (closeDialog)="onCloseDialog($event)"
        ></app-todo-form-dialog>
    </ng-container>

    <p-confirmDialog [style]="{width: '50vw'}"></p-confirmDialog>
</div>

