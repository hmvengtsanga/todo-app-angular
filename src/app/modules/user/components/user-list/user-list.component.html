<div class="my-3">
    <p-table 
        [value]="users"
        responsiveLayout="stack" 
        [breakpoint]="'960px'" 
        [tableStyle]="{'min-width': '50rem'}"
        styleClass="p-datatable-striped"
        [loading]="loading"
        [totalRecords]="total"
        [rows]="rows"
        [rowsPerPageOptions]="[5, 10, 25, 50]"
    >
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th> {{ 'user.table.header.lastname' | translate }} </th>
                <th> {{ 'user.table.header.firstname' | translate }}</th>
                <th> {{ 'user.table.header.email' | translate }} </th>
                <th> {{ 'user.table.header.roles' | translate }} </th>
                <th> {{ 'user.table.header.created_at' | translate }} </th>
                <th> {{ 'user.table.header.updated_at' | translate }} </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user let-columns="columns">
            <tr>
                <td> {{ user.firstName }} </td>
                <td> {{ user.lastName }} </td>
                <td> {{ user.email }} </td>
                <td> 
                    <p-tag 
                        *ngFor="let role of user.roles"
                        [value]=" 'user.table.body.role.' + role.toLowerCase() | translate"
                        class="m-1"
                    ></p-tag>
                </td>
                <td> {{ user.createdAt | date: ('user.table.body.date_format' | translate) }} </td>
                <td> {{ user.updatedAt | date: ('user.table.body.date_hour_format' | translate) }} </td>
            </tr>
        </ng-template>
    </p-table>
    <p-paginator 
        (onPageChange)="paginateData($event)"
        [rows]="rows"
        [totalRecords]="total"
        [pageLinkSize]="3"
        [rowsPerPageOptions]="[10, 20, 30]"
        [showCurrentPageReport]="true"
        currentPageReportTemplate=" {{ 'user.table.message.page_report' | translate }}"
    ></p-paginator>
</div>
